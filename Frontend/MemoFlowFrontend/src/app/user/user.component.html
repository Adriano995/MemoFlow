<div class="page-container">
  <div class="nota-detail-card">
    <h2 class="h2 form-title">Modifica Profilo</h2>

    <div *ngIf="loading" class="message-base loading-message">Caricamento dati utente...</div>
    <div *ngIf="successMessage" class="success-message message-base">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="error-message message-base">{{ errorMessage }}</div>

    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="nome" class="form-label">Nome:</label>
        <input id="nome" formControlName="nome" type="text" class="form-input">
        <div *ngIf="userForm.get('nome')?.touched && userForm.get('nome')?.invalid" class="error-message message-base">
          Il nome è obbligatorio.
        </div>
      </div>

      <div class="form-group">
        <label for="cognome" class="form-label">Cognome:</label>
        <input id="cognome" formControlName="cognome" type="text" class="form-input">
        <div *ngIf="userForm.get('cognome')?.touched && userForm.get('cognome')?.invalid" class="error-message message-base">
          Il cognome è obbligatorio.
        </div>
      </div>

      <div class="form-group">
        <label for="email" class="form-label">Email:</label>
        <input id="email" formControlName="email" type="email" class="form-input">
        <div *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid" class="error-message message-base">
          Inserisci un'email valida.
        </div>
      </div>

      <div class="form-group">
        <label for="password" class="form-label">Nuova Password (opzionale):</label>
        <input id="password" formControlName="password" type="password" class="form-input">
        <div *ngIf="userForm.get('password')?.touched && userForm.get('password')?.invalid" class="error-message message-base">
          La password deve essere di almeno 6 caratteri.
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="button-base button-primary" [disabled]="userForm.invalid">Salva Modifiche</button>
        <button type="button" class="button-base button-danger" (click)="deleteAccount()">Elimina Account</button>
      </div>
    </form>
  </div>
</div>