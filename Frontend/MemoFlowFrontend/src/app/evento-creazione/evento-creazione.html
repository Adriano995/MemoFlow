<div class="page-container">
  <div class="card-base form-card-large form-margin-top">
    <div class="card-header">
      <button class="button-base button-secondary" (click)="goBack()">
        Indietro
      </button>
      <h2 class="form-title">Crea Nuova Nota</h2>
      <div class="header-spacer"></div>
    </div>
    <form (ngSubmit)="onSubmit()" #eventoForm="ngForm">
      <div class="form-group">
        <label for="titolo" class="form-label-base">Titolo:</label>
        <input type="text" id="titolo" name="titolo" [(ngModel)]="newEvent.titolo" required maxlength="100"
          class="form-input-base">
        <div *ngIf="eventoForm.controls['titolo']?.invalid && eventoForm.controls['titolo']?.touched"
          class="error-message message-base">
          Il titolo è obbligatorio (max 100 caratteri).
        </div>
      </div>

      <div class="form-group checkbox-group">
        <input type="checkbox" id="allDay" name="allDay" [(ngModel)]="isAllDay" (change)="onAllDayChange()"
          class="form-checkbox">
        <label for="allDay" class="form-label-base">Giorno intero</label>
      </div>

      <div class="form-group date-time-group">
        <label class="form-label-base">Data e Ora Inizio:</label>
        <input type="text" #dataInizioInput class="form-input-base" placeholder="Seleziona Data e Ora"
          [disabled]="isAllDay" />
      </div>

      <div class="form-group date-time-group">
        <label class="form-label-base">Data e Ora Fine:</label>
        <input type="text" #dataFineInput class="form-input-base" placeholder="Seleziona Data e Ora"
          [disabled]="isAllDay" />
      </div>
      <div class="form-group">
        <label for="luogo" class="form-label-base">Luogo (Opzionale):</label>
        <input type="text" id="luogo" name="luogo" [(ngModel)]="newEvent.luogo" maxlength="100" class="form-input-base">
        <div *ngIf="eventoForm.controls['luogo']?.invalid && eventoForm.controls['luogo']?.touched"
          class="error-message message-base">
          Il luogo non può superare i 100 caratteri.
        </div>
      </div>

      <div class="form-actions flex-row reverse-flex">
        <button type="submit" [disabled]="!eventoForm.valid" class="button-base button-primary">Crea Evento</button>
        <button type="button" (click)="goBack()" class="button-base button-secondary">Annulla</button>
      </div>
    </form>
  </div>
</div>